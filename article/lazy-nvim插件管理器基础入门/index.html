<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
          name="viewport">
    
    
    <!-- umami web analysis -->
    <script defer src="https://zhen.wang/libs/umami/umami.script.js"
            data-website-id="d66cfe03-f6b3-4aa0-baf8-728700db1b09"></script>
    
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="https://zhen.wang/images/blog-site-icon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="https://zhen.wang/images/blog-site-icon.svg">
    <title>zhen&#x27;s everything</title>
    <link rel="stylesheet" href="https://zhen.wang/style.css">
    
<link rel="stylesheet" href="https://zhen.wang/article_content.css">
<link rel="stylesheet" href="https://zhen.wang/article_markdown.css">

</head>
<body>

<div id="article">
    <header class="article-header">
        
<div class="base-title">
    <a href="#" onclick="history.length > 1 ? history.back() : location.href = '/'; return false;">&LeftArrow; Back</a>
    <h1>
        lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨
    </h1>
</div>

    </header>
    <p class="article-date">2023-06-19</p>
    
    <!-- toc -->
    <div class="article-toc">
        <label class="toc-title" for="toc-trigger">ç›®å½•</label>
        <input id="toc-trigger" type="checkbox" checked/>
        <div class="toc-content">
            <ol class="toc">
                
                <li class="toc-item toc-level-1">
                    <a class="toc-link" href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#ji-chu-an-zhuang">åŸºç¡€å®‰è£…</a>
                    
                    <ol class="toc-child">
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#init-lua">init.lua</a>
                        </li>
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#lazynvim-init-lua">lazynvim-init.lua</a>
                        </li>
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#yan-zheng">éªŒè¯</a>
                        </li>
                        
                    </ol>
                    
                </li>
                
                <li class="toc-item toc-level-1">
                    <a class="toc-link" href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#cha-jian-an-zhuang-pei-zhi">æ’ä»¶å®‰è£…é…ç½®</a>
                    
                    <ol class="toc-child">
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#fang-shi-1-zhi-jie-pei-zhi">æ–¹å¼1ï¼šç›´æ¥é…ç½®</a>
                        </li>
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#fang-shi-2-pluginsmu-lu-tong-yi-bian-pai">æ–¹å¼2ï¼špluginsç›®å½•ç»Ÿä¸€ç¼–æ’</a>
                        </li>
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#an-zhuang-jie-guo-yan-zheng">å®‰è£…ç»“æœéªŒè¯</a>
                        </li>
                        
                    </ol>
                    
                </li>
                
                <li class="toc-item toc-level-1">
                    <a class="toc-link" href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#cha-jian-ti-xi-ji-zhi">æ’ä»¶ä½“ç³»æœºåˆ¶</a>
                    
                    <ol class="toc-child">
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#cha-jian-pei-zhi-qian-xi">æ’ä»¶é…ç½®æµ…æ</a>
                        </li>
                        
                        <li class="toc-item toc-level-2">
                            <a href="https://zhen.wang/article/lazy-nvimæ’ä»¶ç®¡ç†å™¨åŸºç¡€å…¥é—¨/#guan-yu-cha-jian-de-sou-suo-lu-jing">å…³äºæ’ä»¶çš„æœç´¢è·¯å¾„</a>
                        </li>
                        
                    </ol>
                    
                </li>
                
            </ol>
        </div>
    </div>
    
    <!-- real content -->
    <div class="article-content markdown-content">
        <p>ä¸€ç¯‡é€šè¿‡ä½¿ç”¨lazy.nvimè¿›è¡Œnvimæ’ä»¶ç®¡ç†çš„å…¥é—¨ç¬”è®°ã€‚</p>
<span id="continue-reading"></span><h1 id="ji-chu-an-zhuang">åŸºç¡€å®‰è£…</h1>
<h2 id="init-lua">init.lua</h2>
<p>è·¯å¾„ï¼šstdpath("<strong>config</strong>")/init.lua</p>
<blockquote>
<p>stdpath("config")</p>
<p>macOS/Linuxï¼š~/.config/nvim</p>
<p>Windowsï¼š~/AppData/Local/nvim</p>
</blockquote>
<pre data-lang="lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#65737e;">-- bootstrap lazy.nvim
</span><span style="color:#65737e;">-- ./lua/lazynvim-init.lua
</span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">lazynvim-init</span><span>&quot;)
</span></code></pre>
<p>æ„ä¹‰ä½œç”¨ï¼š</p>
<p>nvimå¯åŠ¨æ—¶ä¼šåŠ è½½<code>init.lua</code>é…ç½®ï¼Œç„¶åé€šè¿‡<code>require("lazynvim-init")</code>æŸ¥æ‰¾å½“å‰<code>init.lua</code>æ‰€åœ¨ç›®å½•ä¸‹çš„luaç›®å½•ä¸‹çš„<code>lazynvim-init.lua</code>æ–‡ä»¶ï¼Œè¿è¡Œå…¶å†…å®¹ã€‚</p>
<h2 id="lazynvim-init-lua">lazynvim-init.lua</h2>
<p>è·¯å¾„ï¼šstdpath("<strong>config</strong>")/lua/lazynvim-init.lua</p>
<p>ä»£ç å†…å®¹ï¼š</p>
<pre data-lang="lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#65737e;">-- 1. å‡†å¤‡lazy.nvimæ¨¡å—ï¼ˆå­˜åœ¨æ€§æ£€æµ‹ï¼‰
</span><span style="color:#65737e;">-- stdpath(&quot;data&quot;)
</span><span style="color:#65737e;">-- macOS/Linux: ~/.local/share/nvim
</span><span style="color:#65737e;">-- Windows: ~/AppData/Local/nvim-data
</span><span style="color:#b48ead;">local </span><span style="color:#bf616a;">lazypath </span><span>= </span><span style="color:#bf616a;">vim</span><span>.fn.</span><span style="color:#bf616a;">stdpath</span><span>(&quot;</span><span style="color:#a3be8c;">data</span><span>&quot;) .. &quot;</span><span style="color:#a3be8c;">/lazy/lazy.nvim</span><span>&quot;
</span><span style="color:#b48ead;">if </span><span>not </span><span style="color:#bf616a;">vim</span><span>.loop.</span><span style="color:#bf616a;">fs_stat</span><span>(</span><span style="color:#bf616a;">lazypath</span><span>) </span><span style="color:#b48ead;">then
</span><span>	</span><span style="color:#bf616a;">vim</span><span>.fn.</span><span style="color:#bf616a;">system</span><span>({
</span><span>		&quot;</span><span style="color:#a3be8c;">git</span><span>&quot;,
</span><span>		&quot;</span><span style="color:#a3be8c;">clone</span><span>&quot;,
</span><span>		&quot;</span><span style="color:#a3be8c;">--filter=blob:none</span><span>&quot;,
</span><span>		&quot;</span><span style="color:#a3be8c;">https://github.com/folke/lazy.nvim.git</span><span>&quot;,
</span><span>		&quot;</span><span style="color:#a3be8c;">--branch=stable</span><span>&quot;, </span><span style="color:#65737e;">-- latest stable release
</span><span>		</span><span style="color:#bf616a;">lazypath</span><span>,
</span><span>	})
</span><span style="color:#b48ead;">end
</span><span style="color:#65737e;">-- 
</span><span style="color:#65737e;">-- 2. å°† lazypath è®¾ç½®ä¸ºè¿è¡Œæ—¶è·¯å¾„
</span><span style="color:#65737e;">-- rtpï¼ˆruntime pathï¼‰
</span><span style="color:#65737e;">-- nvimè¿›è¡Œè·¯å¾„æœç´¢çš„æ—¶å€™ï¼Œé™¤å·²æœ‰çš„è·¯å¾„ï¼Œè¿˜ä¼šä»prependçš„è·¯å¾„ä¸­æŸ¥æ‰¾
</span><span style="color:#65737e;">-- å¦åˆ™ï¼Œä¸‹é¢ require(&quot;lazy&quot;) æ˜¯æ‰¾ä¸åˆ°çš„
</span><span style="color:#bf616a;">vim</span><span>.opt.rtp:</span><span style="color:#bf616a;">prepend</span><span>(</span><span style="color:#bf616a;">lazypath</span><span>)
</span><span>
</span><span style="color:#65737e;">-- 3. åŠ è½½lazy.nvimæ¨¡å—
</span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">lazy</span><span>&quot;).</span><span style="color:#bf616a;">setup</span><span>({})
</span></code></pre>
<p>æ„ä¹‰ä½œç”¨ï¼š</p>
<p>è¯¥é…ç½®æ–‡ä»¶ä¸»è¦æœ‰3éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>lazy.nvimçš„åŠ è½½ä¸å­˜åœ¨æ€§éªŒè¯ï¼›</li>
<li>å°†lazy.nvimæ¨¡å—æ‰€åœ¨ç›®å½•åŠ å…¥åˆ°luaæ¨¡å—æœç´¢è·¯å¾„ä¸‹ï¼Œä»¥ä¾¿å¯ä»¥requireåˆ°lazy.nvimæ¨¡å—ï¼›</li>
<li>è®©lazy.nvimåŠ è½½æ’ä»¶ã€‚</li>
</ol>
<p>ç¬¬ä¸€æ­¥ï¼Œlazy.nvimè¿›è¡Œå­˜åœ¨æ€§æ£€æŸ¥ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™é€šè¿‡git cloneæ–¹å¼ï¼Œä¸‹è½½lazy.nvimæ¨¡å—ä»£ç ï¼Œå¹¶å­˜æ”¾åˆ°<code>stdpath("data")/lazy/lazy.nvim</code>ç›®å½•ä¸‹ã€‚</p>
<blockquote>
<p>stdpath("data")è·¯å¾„ä¸ºï¼š</p>
<p>macOS/Linuxï¼š~/.local/share/nvim</p>
<p>Windowsï¼š~/AppData/Local/nvim-data</p>
</blockquote>
<p>ç¬¬äºŒæ­¥ï¼Œé€šè¿‡<code>"vim.opt.rtp:prepend(lazypath)"</code>ä»£ç å°†lazy.nvimæ¨¡å—æ‰€åœ¨çš„è·¯å¾„ï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢çš„å˜é‡<code>lazypath</code>ï¼‰åŠ å…¥åˆ°è¿è¡Œæ—¶è·¯å¾„ï¼ˆruntimepathï¼‰ä¸‹ï¼Œåªæœ‰é…ç½®äº†è¿™è¡Œä»£ç æ‰èƒ½è®©ä¸‹é¢<code>require("lazy")</code>æ‰§è¡Œçš„æ—¶å€™ï¼Œèƒ½å¤Ÿä»<code>lazypath</code>ä¸­æœç´¢åˆ°lazyæ¨¡å—å¹¶åŠ è½½ã€‚</p>
<p>åœ¨æœ¬äººmacOSæœºå™¨ä¸Šï¼Œå¦‚æœç¬¬ä¸€æ­¥æˆåŠŸå®‰è£…äº†lazy.nvimæ¨¡å—ï¼Œåˆ™ç¿»çœ‹<code>"~/.local/share/nvim/lazy/lazy.nvim"</code>ç›®å½•ï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>$ cd ~/.local/share/nvim/lazy/lazy.nvim
</span><span>$ tree -L 2
</span><span>.
</span><span>â”œâ”€â”€ CHANGELOG.md
</span><span>â”œâ”€â”€ LICENSE
</span><span>â”œâ”€â”€ README.md
</span><span>â”œâ”€â”€ TODO.md
</span><span>â”œâ”€â”€ doc
</span><span>â”œâ”€â”€ luaï¼ˆè¿™é‡Œé¢è¿˜æœ‰ç›®å½•lazy/init.luaæ–‡ä»¶ï¼‰
</span><span>â”œâ”€â”€ selene.toml
</span><span>â”œâ”€â”€ stylua.toml
</span><span>â”œâ”€â”€ tests
</span><span>â””â”€â”€ vim.toml
</span></code></pre>
<p>æœç´¢<code>lazy</code>æ¨¡å—çš„æ—¶å€™ï¼Œä¼šä»<code>ï½/.local/share/nvim/lazy/lazy.nvim</code>ç›®å½•ä¸‹æ‰¾åˆ°<code>lua/lazy/init.lua</code>è¿›è¡ŒåŠ è½½ã€‚</p>
<p>å¦‚æœä¸é…ç½®ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹æŠ¥é”™ï¼š</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>E5113: Error while calling lua chunk: /Users/w4ngzhen/.config/nvim/lua/lazynvim-init.lua:22: module &#39;lazy&#39; not found:
</span><span>        no field package.preload[&#39;lazy&#39;]
</span><span>        no file &#39;./lazy.lua&#39;
</span><span>        no file &#39;/usr/local/share/luajit-2.1.0-beta3/lazy.lua&#39;
</span><span>        no file &#39;/usr/local/share/lua/5.1/lazy.lua&#39;
</span><span>        no file &#39;/usr/local/share/lua/5.1/lazy/init.lua&#39;
</span><span>        no file &#39;./lazy.so&#39;
</span><span>        no file &#39;/usr/local/lib/lua/5.1/lazy.so&#39;
</span><span>        no file &#39;/usr/local/lib/lua/5.1/loadall.so&#39;
</span></code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼Œé€šè¿‡<code>require("lazy").setup({})</code>ä»£ç åŠ è½½ä¸‹è½½å¥½çš„lazy.nvimæ¨¡å—ä»£ç ã€‚å½“ç„¶ï¼Œç”±äº<code>setup</code>ä»£ç çš„å‚æ•°æ˜¯ä¸€ä¸ªç©ºçš„tableï¼Œä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬è¿˜æ²¡æœ‰è®©lazy.nvimç®¡ç†/åŠ è½½ä»»ä½•çš„æ’ä»¶ï¼Œåæ–‡å°†ä»‹ç»æ’ä»¶çš„å®‰è£…ä¸åŠ è½½ã€é…ç½®ã€‚</p>
<h2 id="yan-zheng">éªŒè¯</h2>
<p>æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>$ cd ~/.config/nvim
</span><span>$ tree
</span><span>.
</span><span>â”œâ”€â”€ README.md
</span><span>â”œâ”€â”€ init.lua
</span><span>â””â”€â”€ lua
</span><span>    â””â”€â”€ lazynvim-init.lua
</span></code></pre>
<p>ä¸Šè¿°é…ç½®å®Œæ¯•ä»¥åï¼Œè®©æˆ‘ä»¬é¦–æ¬¡å¯åŠ¨nvimï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™ï¼Œç”±äºä¼šä»è¿œç«¯ä¸‹è½½lazy.nvimæ¨¡å—ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿã€‚ç„¶åï¼Œæˆ‘ä»¬å°±ä¼šè¿›å…¥æ­£å¸¸çš„nvimç•Œé¢ã€‚ç„¶åå‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥æŒ‡ä»¤<code>:Lazy</code>åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°nvimçš„ç•Œé¢å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå±•ç¤ºlazyçš„çŠ¶æ€ï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/010-simple-lazynvim-config-result.png" alt="010-simple-lazynvim-config-result" /></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†lazy.nvimçš„å®‰è£…ä¸åŠ è½½ï¼Œä¸‹é¢ä¼šä»‹ç»ä½¿ç”¨lazy.nvimæ¥å®‰è£…/ç®¡ç†æ’ä»¶ã€‚</p>
<h1 id="cha-jian-an-zhuang-pei-zhi">æ’ä»¶å®‰è£…é…ç½®</h1>
<p>åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åŸºäºä¸Šé¢çš„æˆæœï¼Œå°è¯•å®‰è£…å‡ ä¸ªé«˜é¢‘çš„æ’ä»¶ï¼ˆå…³äºè¿™äº›æ’ä»¶çš„åŠŸèƒ½ä¸ä½¿ç”¨æ–¹å¼ï¼Œæœ¬æ–‡ä¸ä¼šè¯¦ç»†ä»‹ç»ï¼‰ï¼š</p>
<ol>
<li>æ–‡ä»¶æ ‘æ’ä»¶ï¼š<a rel="noopener" target="_blank" href="https://github.com/nvim-tree/nvim-tree.lua">nvim-tree.lua</a></li>
<li>æ–‡ä»¶çŠ¶æ€å±•ç¤ºæ’ä»¶ï¼š<a rel="noopener" target="_blank" href="https://github.com/nvim-lualine/lualine.nvim">lualine.nvim</a></li>
</ol>
<h2 id="fang-shi-1-zhi-jie-pei-zhi">æ–¹å¼1ï¼šç›´æ¥é…ç½®</h2>
<p>ä»¥ç›´æ¥é…ç½®çš„æ–¹å¼å®‰è£…æ’ä»¶ååˆ†ç®€å•ï¼Œåªéœ€è¦åœ¨ä¸Šé¢çš„lazynvim-init.luaçš„ä¸­<code>require("lazy").setup({})</code>æ·»åŠ æ’ä»¶å®‰è£…ä»£ç å³å¯ï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/020-add-plugins-by-simple-way.png" alt="020-add-plugins-by-simple-way" /></p>
<pre data-lang="lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#b48ead;">local </span><span style="color:#bf616a;">nvim_tree_plugin </span><span>= {
</span><span>    &quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-tree.lua</span><span>&quot;,
</span><span>    </span><span style="color:#a3be8c;">version </span><span>= &quot;</span><span style="color:#a3be8c;">*</span><span>&quot;,
</span><span>    </span><span style="color:#a3be8c;">dependencies </span><span>= {&quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-web-devicons</span><span>&quot;},
</span><span>    </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>        </span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">nvim-tree</span><span>&quot;).</span><span style="color:#bf616a;">setup </span><span>{}
</span><span>    </span><span style="color:#b48ead;">end
</span><span>}
</span><span style="color:#b48ead;">local </span><span style="color:#bf616a;">lualine_plugin </span><span>= {
</span><span>    &#39;</span><span style="color:#a3be8c;">nvim-lualine/lualine.nvim</span><span>&#39;,
</span><span>    </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>        </span><span style="color:#96b5b4;">require</span><span>(&#39;</span><span style="color:#a3be8c;">lualine</span><span>&#39;).</span><span style="color:#bf616a;">setup</span><span>()
</span><span>    </span><span style="color:#b48ead;">end
</span><span>}
</span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">lazy</span><span>&quot;).</span><span style="color:#bf616a;">setup</span><span>({</span><span style="color:#bf616a;">nvim_tree_plugin</span><span>, </span><span style="color:#bf616a;">lualine_plugin</span><span>})
</span></code></pre>
<p>ä¸Šè¿°æ–¹å¼ä¸‹ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªæ’ä»¶é…ç½®çš„tableï¼›ç„¶åï¼Œåœ¨setupä¸­ç¬¬ä¸€ä¸ªå‚æ•°tableä¸­ï¼Œé€ä¸ªæ·»åŠ æ’ä»¶ã€‚è¿™æ ·lazy.nvimå°±èƒ½å¸®æˆ‘ä»¬å°†æ’ä»¶è¿›è¡Œä¸‹è½½ã€å®‰è£…ã€‚</p>
<blockquote>
<p>è¿™é‡Œä¸éªŒè¯æ’ä»¶å®‰è£…çš„ç»“æœï¼Œç­‰åˆ°ä¸‹æ–‡é€šè¿‡æ›´åŠ ä¼˜é›…çš„æ–¹å¼é…ç½®å†çœ‹æ•ˆæœã€‚</p>
</blockquote>
<h2 id="fang-shi-2-pluginsmu-lu-tong-yi-bian-pai">æ–¹å¼2ï¼špluginsç›®å½•ç»Ÿä¸€ç¼–æ’</h2>
<p>ä¸Šè¿°æ–¹å¼1å›ºç„¶ç®€å•ï¼Œä½†æ¯ä¸€æ¬¡æƒ³è¦æ·»åŠ ä¸€ä¸ªæ’ä»¶å°±éœ€è¦åœ¨lazynvim-init.luaä¸­æ·»åŠ æ’ä»¶ä»£ç ï¼›å¦å¤–ï¼Œå¤§é‡çš„æ’ä»¶é…ç½®åŠ¿å¿…é€ æˆlazynvim-init.luaæ„ˆå‘è‡ƒè‚¿ã€‚å¥½åœ¨lazy.nvimè¿˜æ”¯æŒæˆ‘ä»¬ä»¥æ›´åŠ ä¼˜é›…çš„æ–¹å¼ç¼–æ’æ’ä»¶ï¼šä½¿ç”¨pluginsç›®å½•ç»Ÿä¸€ç¼–æ’æ’ä»¶ã€‚å…·ä½“åšæ³•ä¸ºï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šlazynvim-init.luaä¸­çš„setupå‚æ•°å˜ä¸º<code>setup("plugins")</code>ï¼ŒåŒæ—¶ç§»é™¤æ‰æœ‰å…³å…·ä½“æ’ä»¶å®‰è£…é…ç½®çš„ä»£ç ï¼›</p>
<p>ç¬¬äºŒæ­¥ï¼šåœ¨lazynvim-init.luaæ‰€åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º"plugins"çš„ç›®å½•ï¼›</p>
<p>ç¬¬ä¸‰æ­¥ï¼šåœ¨pluginsç›®å½•ä¸­åˆ›å»ºæ’ä»¶é…ç½®æ¨¡å—luaè„šæœ¬ã€‚åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªluaè„šæœ¬æ¥åˆ†åˆ«ä½œä¸ºä¸¤ä¸ªæ’ä»¶çš„é…ç½®æ¨¡å—ï¼š</p>
<ol>
<li>plugin-lualine.lua</li>
</ol>
<pre data-lang="lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#b48ead;">return </span><span>{
</span><span>    {
</span><span>        &#39;</span><span style="color:#a3be8c;">nvim-lualine/lualine.nvim</span><span>&#39;,
</span><span>        </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>            </span><span style="color:#96b5b4;">require</span><span>(&#39;</span><span style="color:#a3be8c;">lualine</span><span>&#39;).</span><span style="color:#bf616a;">setup</span><span>()
</span><span>        </span><span style="color:#b48ead;">end
</span><span>    }
</span><span>}
</span></code></pre>
<ol start="2">
<li>plugin-nvim-tree.lua</li>
</ol>
<pre data-lang="lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#b48ead;">return </span><span>{
</span><span>    {
</span><span>        &quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-tree.lua</span><span>&quot;,
</span><span>        </span><span style="color:#a3be8c;">version </span><span>= &quot;</span><span style="color:#a3be8c;">*</span><span>&quot;,
</span><span>        </span><span style="color:#a3be8c;">dependencies </span><span>= {&quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-web-devicons</span><span>&quot;},
</span><span>        </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>            </span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">nvim-tree</span><span>&quot;).</span><span style="color:#bf616a;">setup </span><span>{}
</span><span>        </span><span style="color:#b48ead;">end
</span><span>    }
</span><span>}
</span></code></pre>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ï¼š1ï¼‰æ–‡ä»¶åå¯ä»¥éšæ„ï¼›2ï¼‰æ¯ä¸€ä¸ªè„šæœ¬æ¨¡å—éƒ½å°†è¿”å›ä¸€ä¸ªtableï¼Œä¸”tableçš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªæ’ä»¶é…ç½®ï¼ˆè¿™é‡Œæ¯ä¸ªæ–‡ä»¶åªæœ‰ä¸€é¡¹æ’ä»¶é…ç½®ï¼‰ï¼Œlazyä¼šæŠŠè¿™äº›tableåˆå¹¶ä¸ºä¸€ä¸ªæ’ä»¶é…ç½®çš„tableè¿›è¡ŒåŠ è½½ï¼ˆ<a rel="noopener" target="_blank" href="https://github.com/folke/lazy.nvim#-structuring-your-plugins">folke/lazy.nvim: ğŸ’¤ A modern plugin manager for Neovim (github.com)</a>ï¼‰ã€‚</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åªåœ¨pluginsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªluaè„šæœ¬ï¼ˆè­¬å¦‚å«all-plugins.luaï¼‰ï¼Œç„¶åé‡Œé¢returnçš„tableåŒ…å«æœ‰ä¸Šè¿°ä¸¤ä¸ªæ’ä»¶çš„é…ç½®ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<pre data-lang="lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#65737e;">-- all-plugins.lua
</span><span style="color:#b48ead;">return </span><span>{
</span><span>    {
</span><span>        &#39;</span><span style="color:#a3be8c;">nvim-lualine/lualine.nvim</span><span>&#39;,
</span><span>        </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>            </span><span style="color:#96b5b4;">require</span><span>(&#39;</span><span style="color:#a3be8c;">lualine</span><span>&#39;).</span><span style="color:#bf616a;">setup</span><span>()
</span><span>        </span><span style="color:#b48ead;">end
</span><span>    }
</span><span>    {
</span><span>        &quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-tree.lua</span><span>&quot;,
</span><span>        </span><span style="color:#a3be8c;">version </span><span>= &quot;</span><span style="color:#a3be8c;">*</span><span>&quot;,
</span><span>        </span><span style="color:#a3be8c;">dependencies </span><span>= {&quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-web-devicons</span><span>&quot;},
</span><span>        </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>            </span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">nvim-tree</span><span>&quot;).</span><span style="color:#bf616a;">setup </span><span>{}
</span><span>        </span><span style="color:#b48ead;">end
</span><span>    }
</span><span>}
</span></code></pre>
<p>æ— è®ºæ˜¯ä¸€ä¸ªæ’ä»¶ä¸€ä¸ªluaè„šæœ¬æ¨¡å—è¿˜æ˜¯ï¼Œç»Ÿä¸€ä¸€ä¸ªæ–‡ä»¶éƒ½è¡Œã€‚ä½†æ˜¯ä¸ºäº†ä»¥åå®‰è£…æ’ä»¶çš„å°½å¯èƒ½ä¸åŠ¨è„šæœ¬è€Œæ˜¯æ–°å¢è„šæœ¬ï¼Œç¬”è€…è¿˜æ˜¯å»ºè®®ä¸€ä¸ªæ’ä»¶é…ç½®ä¸€ä¸ªluaæ–‡ä»¶çš„æ–¹å¼ã€‚</p>
<p>åœ¨ä¸Šè¿°ä¸‰æ­¥å®Œæˆä»¥åï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/030-setup-plugin-by-dir-arch.png" alt="030-setup-plugin-by-dir-arch" /></p>
<p>lazynvim-init.luaã€plugin-lualine.luaä»¥åŠplugin-nvim-tree.luaçš„ä»£ç å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/040-plugin-file-content.png" alt="040-plugin-file-content" /></p>
<h2 id="an-zhuang-jie-guo-yan-zheng">å®‰è£…ç»“æœéªŒè¯</h2>
<p>ç»ˆäºï¼Œå½“æˆ‘ä»¬å®Œæˆäº†æ’ä»¶çš„å®‰è£…é…ç½®ä»¥åï¼Œåœ¨æ­¤å¯åŠ¨nvimï¼Œç†è®ºä¸Šæ­¤æ—¶ä¼šçœ‹åˆ°lazyå¯¹å…¶ä»–æ’ä»¶çš„åŠ è½½åŠ¨ç”»å’ŒåŠ è½½ç»“æœï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/050-install-plugin-by-many-lua-files.png" alt="050-install-plugin-by-many-lua-files" /></p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°lualineåŠ è½½åçš„æ•ˆæœï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/060-lualine-install-result.png" alt="060-lualine-install-result" /></p>
<p>å‘½ä»¤æ¨¡å¼ä¸‹å¯ä»¥æ‰§è¡Œå‘½ä»¤<code>:NvimTreeOpen</code>ï¼š</p>
<p><img src="https://static-res.zhen.wang/images/post/2023-06-19/070-nvim-tree-install-result.gif" alt="070-nvim-tree-install-result" /></p>
<h1 id="cha-jian-ti-xi-ji-zhi">æ’ä»¶ä½“ç³»æœºåˆ¶</h1>
<h2 id="cha-jian-pei-zhi-qian-xi">æ’ä»¶é…ç½®æµ…æ</h2>
<p>ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸Šé¢ç®€å•çš„ä¸‰éƒ¨åˆ†æ–‡ä»¶ï¼ˆ1ã€init.luaï¼›2ã€lua/lazynvim-init.luaï¼›3ã€pluginsç›®å½•ä¸‹çš„plugin-lualine.luaå’Œplugin-nvim-tree.luaï¼‰ï¼Œå°±ç”¨ä¸Šäº†lazy.nvimè¿™ä¸ªæ’ä»¶ç®¡ç†å·¥å…·ï¼Œä»¥åŠå®‰è£…äº†lualineå’Œnvim-treeä¸¤ä¸ªæ’ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡nvim-treeè¿™ä¸ªæ’ä»¶çš„é…ç½®ï¼Œæ¥ç®€å•åˆ†æä¸‹lazy.nvimçš„æ’ä»¶ä½“ç³»æœºåˆ¶ï¼š</p>
<pre data-lang="Lua" style="background-color:#2b303b;color:#c0c5ce;" class="language-Lua "><code class="language-Lua" data-lang="Lua"><span style="color:#b48ead;">return </span><span>{
</span><span>    {
</span><span>        &quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-tree.lua</span><span>&quot;,
</span><span>        </span><span style="color:#a3be8c;">version </span><span>= &quot;</span><span style="color:#a3be8c;">*</span><span>&quot;,
</span><span>        </span><span style="color:#a3be8c;">dependencies </span><span>= {&quot;</span><span style="color:#a3be8c;">nvim-tree/nvim-web-devicons</span><span>&quot;},
</span><span>        </span><span style="color:#8fa1b3;">config </span><span>= </span><span style="color:#b48ead;">function</span><span>()
</span><span>            </span><span style="color:#96b5b4;">require</span><span>(&quot;</span><span style="color:#a3be8c;">nvim-tree</span><span>&quot;).</span><span style="color:#bf616a;">setup </span><span>{}
</span><span>        </span><span style="color:#b48ead;">end
</span><span>    }
</span><span>}
</span></code></pre>
<p>æŒ‰ç…§lazy.nvimçš„å®˜æ–¹æ€»ç»“ï¼Œä¸€ä¸ªæ’ä»¶é…ç½®ï¼ˆå®˜æ–¹å«plugin specï¼‰çš„tableï¼š</p>
<ul>
<li>
<p><code>"nvim-tree/nvim-tree.lua"</code>ï¼šæŒ‡è¿™ä¸ªæ’ä»¶åœ¨githubä¸Šçš„short urlã€‚lazy.nvimåœ¨å®‰è£…æ’ä»¶çš„æ—¶å€™ï¼Œé»˜è®¤å°±ä¼šæ‹‰å–githubä¸Šçš„ä»“åº“ä»£ç åˆ°æœ¬åœ°è¿›è¡Œå­˜æ”¾ã€‚</p>
</li>
<li>
<p><code>version = "*"</code>ï¼šversionæ˜¯ç‰ˆæœ¬é…ç½®ï¼Œä½¿ç”¨<code>"*"</code>åˆ™è¡¨æ˜ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœä»¥åä»“åº“æœ‰æ›´æ–°ï¼Œåˆ™æ‹‰å»æœ€æ–°æ’ä»¶ä»£ç ã€‚</p>
</li>
<li>
<p><code>dependencies = {"nvim-tree/nvim-web-devicons"}</code>ï¼šè¯´æ˜è¯¥æ’ä»¶ä¾èµ–å¦ä¸€ä¸ªæ’ä»¶ï¼š<code>"nvim-tree/nvim-web-devicons"</code>ï¼ŒåŒæ ·æ˜¯ä¸€ä¸ªshort urlï¼Œä¼šä»githubä¸Šæ‹‰å–ä»£ç ã€‚</p>
</li>
<li>
<p><code>config = ... ...</code>ï¼šå½“æ’ä»¶å¯åŠ¨åŠ è½½ä»¥åï¼Œåˆ™ä¼šæ‰§è¡Œè¯¥configçš„ä»£ç ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œä¼šè¿è¡Œè„šæœ¬ï¼š<code>require("nvim-tree").setup {}</code>ã€‚</p>
</li>
</ul>
<p>å½“ç„¶ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¾ˆå¤šçš„é…ç½®ï¼Œè¯¦æƒ…å¯ä»¥æŸ¥çœ‹ï¼š<a rel="noopener" target="_blank" href="https://github.com/folke/lazy.nvim#-plugin-spec">lazy.nvim#-plugin-spec</a></p>
<h2 id="guan-yu-cha-jian-de-sou-suo-lu-jing">å…³äºæ’ä»¶çš„æœç´¢è·¯å¾„</h2>
<p>vim/nvimå¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨å¯»æ‰¾<code>runtimepath</code>ä¸‹çš„è„šæœ¬è¿›è¡ŒåŠ è½½ã€‚ä½ å¯ä»¥åœ¨nvimä¸­é€šè¿‡æŒ‡ä»¤ï¼š<code>echo &amp;runtimepath</code>æˆ–è€…<code>set runtimepath</code>ï¼Œåœ¨æˆ‘çš„macOSçš„æœºå™¨ä¸Šç»“æœå¦‚ä¸‹ï¼š</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>  runtimepath=~/.config/nvim,~/.local/share/nvim/lazy/lazy.nvim,~/.local/share/n
</span><span>vim/lazy/lualine.nvim,~/.local/share/nvim/lazy/nvim-web-devicons,~/.local/share/
</span><span>nvim/lazy/nvim-tree.lua,/usr/local/Cellar/neovim/0.9.1/share/nvim/runtime,/usr/l
</span><span>ocal/Cellar/neovim/0.9.1/share/nvim/runtime/pack/dist/opt/matchit,/usr/local/Cel
</span><span>lar/neovim/0.9.1/lib/nvim,~/.local/state/nvim/lazy/readme
</span><span>Press ENTER or type command to continue
</span></code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¹‹å‰å®‰è£…çš„lazy.nvimã€lualine.nvimä»¥åŠnvim-treeéƒ½åœ¨è·¯å¾„åˆ—è¡¨ä¸­æœ‰æ‰€ä½“ç°ã€‚</p>
<p>æ­¤å¤–ï¼Œæœ‰luaå¼€å‘ç»éªŒçš„å¼€å‘è€…åº”è¯¥æ¯”è¾ƒäº†è§£luaä¸­çš„<code>require</code>çš„åŠ è½½æœºåˆ¶ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚<strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼Œåœ¨nvimä¸­çš„luaè„šæœ¬<code>require</code>æ˜¯æœ‰â€œé­”æ”¹â€çš„ï¼Œå®ƒä¼šä»<code>runtimepath/lua/</code>ä¸‹å¯»æ‰¾ lua è„šæœ¬ã€‚æƒ³æ›´äº†è§£çš„è¯»è€…å¯ä»¥ä½¿ç”¨<code>:help lua-require</code>æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>

    </div>
</div>
<script src="https://zhen.wang/libs/viewerjs@1.11.7/viewer.min.js"></script>
<link rel="stylesheet" href="https://zhen.wang/libs/viewerjs@1.11.7/viewer.min.css"/>
<script>
  if (window.Viewer) {
    document.querySelectorAll('img').forEach(img => {
      new Viewer(img, {
        inline: false,
        navbar: false,
        toolbar: {
          zoomIn: 1,
          zoomOut: 1,
          reset: 1,
          rotateLeft: 1,
          rotateRight: 1,
        },
      });
    });
  }
</script>


</body>
</html>